---
title: Git版本回退方法以及相关的一些注意事项
abstract: 该部分被加密了, 请输入密码查看.
message: 您好, 这里需要密码.
wrong_pass_message: 抱歉, 这个密码看着不太对, 请再试试.
wrong_hash_message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.
date: 2022-11-02 22:00:40
categories:
tags:
password:
---

### 场景一：

如果想将代码恢复到之前某个提交的版本，且那个版本之后提交的版本都不要了，就可以使用 `git rest`

##### 原理： 

`git reset`的作用是修改HEAD的位置，即将HEAD指向的位置改变为之前存在的某个版本

##### 操作：

1. 查看版本号：`git log`，也可以上代码托管网页上查看history，找到需要回滚的目标版本号

2. 使用“`git reset --hard 目标版本号`”命令将版本回退

3. 使用“`git push -f`”提交更改，此时如果用“`git push`”会报错，因为我们本地库HEAD指向的版本比远程库的要旧，用“`git push -f`”强制推上去。

### 场景二：

如果我们想撤销之前的某一版本，但是又想保留该目标版本后面的版本，记录下这整个版本变动流程，就可以用这种方法。

##### 原理：

我们`commit`了三个版本（版本一、版本二、 版本三），突然发现版本二不行（如：有bug），想要撤销版本二，但又不想影响撤销版本三的提交，就可以用 `git revert` 命令来反做版本二，生成新的版本四，这个版本四里会保留版本三的东西，但撤销了版本二的东西。

##### 操作：

1. 查看版本号：`git log`，也可以上代码托管网页上查看history，找到需要撤销的目标版本号

2. 使用“`git revert -n 版本号`”反做，并使用“`git commit -m 版本名`”提交：

  (1) 反做，使用“`git revert -n 版本号`”命令。

##### 注意： 

这里可能会出现冲突，那么需要手动修改冲突的文件。而且要`git add 文件名`。

(2) 提交，使用“`git commit -m 版本名`”

3. 使用“git push”推上远程库：
